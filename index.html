<!DOCTYPE html>
<html lang="es">

  <head>
    <title>Tienda de ropa</title>
    <meta charset="utf-8" />
    <LINK REL=StyleSheet HREF="estilo.css" TYPE="text/css" MEDIA=screen>
    <script src="codigo.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
  </head>

  <body>
    <script language="javascript" type="text/javascript">
      function submitDetailsForm() {
        var formData = {
          title: $("#titulo").val(),
          price: $("#precio").val(),
          category: $("#categoria").val(),
          description: $("#descripcion").val(),
          image: $("#imagen").val(),
        };
        formData = $('#add-producto').serialize()
        $.ajax({
          url: "https://retoolapi.dev/CBGbo1/productos",
          method: 'post',
          dataType: 'json',
          data: formData,
          complete: function() {
            alert('Agregado exitosamente')
          },
          success: function() {
            window.location.href = "https://leryunard.github.io/Guia61c-EL19004/"
          },
          error: function() {
            alert('error')
          }
        })
      }
    </script>

    <h1>Guía 61C</h1>
    <p id="datos">
      <span>EL19004</span> Leonardo Alfredo Efigenio Landaverde - Grupo de Trabajo #06
    </p>
    <div class="center">
      <p>
        <button onclick="obtenerProductos();this.style.display='none';">Obtener Productos</button>
      </p>
    </div>
    <div id="listado" style="display:none;">
      <div class="agregar">
        <div class="center">
          <h2>Introduzca los datos</h2>
        </div>
        <div class="center">
          <form id="add-producto">
            <input class="mandar1" type="text" id="titulo" name="title" placeholder="Título" required>
            <input class="mandar1" type="text" id="precio" name="price" placeholder="Precio" required>
            <input class="mandar1" type="text" id="categoria" name="category" placeholder="Categoría" required>
            <input class="mandar" type="text" id="descripcion" name="description" placeholder="Descripción" required>
            <br>
            <br>
            <input class="mandar1" type="text" id="imagen" name="image" required placeholder="Link de la imagen">
        </div>
      </div>
      <div class="center">
        <button id="segundo" type="button" onClick='submitDetailsForm()'>Agregar Producto</button>
      </div>
      </form>
      <form name="filtroprods" id="filtroprods"> Seleccione Categorías: <span id="cate">Seleccione Categorias</span>
        <input type="checkbox" id="c1" value="c1" checked>Electronicos <input type="checkbox" id="c2" value="c2" checked>Joyería <input type="checkbox" id="c3" value="c3" checked>Ropa Caballero <input type="checkbox" id="c4" value="c4" checked>Ropa Dama <ol>
          <li>Click en la imagen para Acercamiento</li>
          <li>Click en precio para ordenar ascendente o descendente</li>
        </ol>
        <table id="tabla" border="1">
          <thead>
            <tr>
              <th>ID</th>
              <th>Foto</th>
              <th id="price">Precio</th>
              <th>Título</th>
              <th>Descripción</th>
              <th>Categoria</th>
			  <th>Borrar</th>
            </tr>
          </thead>
          <tbody id="tbody"></tbody>
        </table>
      </form>
    </div>
  </body>
</html>